const summaryInclude=60;function getUrlParameter(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}let searchQuery=getUrlParameter("q");searchQuery?(document.getElementById("search-query").value=searchQuery,hangleSearch(searchQuery)):document.getElementById("search-results").innerHTML='<br/><p class="no-results">Please enter a word or phrase above</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>';function hangleSearch(e){fetch("/index.json").then(function(e){return e.json()}).then(function(t){const n=hansearch(t,e).mark("mark");n.items.length>0?(document.getElementById("search-results").innerHTML="",makeHtmlResults(n.items,e)):document.getElementById("search-results").innerHTML='<br/><p class="no-results">No matches found</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>'})}function makeHtmlResults(e){e.forEach(function(e,t){if(e.type!=="posts")return;let s=e.contents,a="",r=-1;if(a.length<1){var o,i,c,l,u,p=/<mark>(.*?)<\/mark>/g,f=summaryInclude*2,d=p.exec(s);d&&(r=s.indexOf(d[0])),l=!1,r>summaryInclude?(i=r-summaryInclude,l=!0):i=r-summaryInclude,o=i+f,o>s.length&&(o=s.length),l?(o-=3,a+="…"+s.substring(i,o).trim()):a+=s.substring(i,o).trim()}a+="…",c=document.createElement("textarea"),c.innerHTML=a,u=c.value;let n=document.getElementById("search-result-template").content.cloneNode(!0);n.querySelector(".search_summary").setAttribute("id","summary-"+t),n.querySelector(".search_link").setAttribute("href",e.permalink),n.querySelector(".search_title").innerHTML=e.title,n.querySelector(".search_snippet").innerHTML=u;let h=e.tags;h?n.querySelector(".search_tags").innerHTML=h:n.querySelector(".search_iftags").remove();let m=e.categories;m?n.querySelector(".search_categories").innerHTML=m:n.querySelector(".search_ifcategories").remove(),document.getElementById("search-results").appendChild(n)})}