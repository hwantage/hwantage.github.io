const summaryInclude=60;function getUrlParameter(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}let searchQuery=getUrlParameter("q");searchQuery?(document.getElementById("search-query").value=searchQuery,hangleSearch(searchQuery)):document.getElementById("search-results").innerHTML='<br/><p class="no-results">Please enter a word or phrase above</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>';function hangleSearch(e){fetch("/index.json").then(function(e){return e.json()}).then(function(t){let n=hanSearch(t,e);n.length>0?(document.getElementById("search-results").innerHTML="",populateResults(n,e)):document.getElementById("search-results").innerHTML='<br/><p class="no-results">No matches found</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>'})}function populateResults(e,t){e.forEach(function(e,n){if(e.type!=="posts")return;let o=e.contents,a="",f=[];if(f.push(t),a.length<1){const e=t.replace(/[()|[\]{}\\]/g,"");var i,r,c,m,v=new RegExp(`[^.?!]*(?<=[.?\\s!])${e}(?=[\\s.?!])[^.?!]*[.?!]`,"i"),h=summaryInclude*2,d=o.toLowerCase().indexOf(t.toLowerCase()),l=o.indexOf(v.exec(o)),u=!1;l+h<d?(r=d,u=!0):r=l,i=r+h,i>o.length&&(i=o.length),u?(i-=3,a+="…"+o.substring(r,i).trim()):a+=o.substring(r,i).trim()}a+="…",c=document.createElement("textarea"),c.innerHTML=a,m=c.value;let s=document.getElementById("search-result-template").content.cloneNode(!0);s.querySelector(".search_summary").setAttribute("id","summary-"+n),s.querySelector(".search_link").setAttribute("href",e.permalink),s.querySelector(".search_title").textContent=e.title,s.querySelector(".search_snippet").textContent=m;let p=e.tags;p?s.querySelector(".search_tags").textContent=p:s.querySelector(".search_iftags").remove();let g=e.categories;g?s.querySelector(".search_categories").textContent=g:s.querySelector(".search_ifcategories").remove(),f.forEach(function(e){let n=new Mark(s);n.mark(e)}),document.getElementById("search-results").appendChild(s)})}