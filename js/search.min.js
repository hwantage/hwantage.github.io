const summaryInclude=60;function getUrlParameter(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}let searchQuery=getUrlParameter("q");searchQuery?(document.getElementById("search-query").value=searchQuery,hangleSearch(searchQuery)):document.getElementById("search-results").innerHTML='<br/><p class="no-results">Please enter a word or phrase above</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>';function hangleSearch(e){fetch("/index.json").then(function(e){return e.json()}).then(function(t){let n=hanSearch(t,e);n.length>0?populateResults(n):document.getElementById("search-results").innerHTML='<br/><p class="no-results">No matches found</p><p class="no-results">한글 초성 검색을 지원합니다. <br/><br/>ㄱ글 => 구글, 가글, 고글 등이 검색 결과에 나타납니다.</p>'})}function populateResults(e){e.forEach(function(e,t){if(e.type!=="posts")return;let s=e.contents,i="",m=[];if(m.push(searchQuery),i.length<1){const e=searchQuery.replace(/[()|[\]{}\\]/g,"");var o,a,r,h,g=new RegExp(`[^.?!]*(?<=[.?\\s!])${e}(?=[\\s.?!])[^.?!]*[.?!]`,"i"),u=summaryInclude*2,l=s.toLowerCase().indexOf(searchQuery.toLowerCase()),c=s.indexOf(g.exec(s)),d=!1;c+u<l?(a=l,d=!0):a=c,o=a+u,o>s.length&&(o=s.length),d?(o-=3,i+="…"+s.substring(a,o).trim()):i+=s.substring(a,o).trim()}i+="…",r=document.createElement("textarea"),r.innerHTML=i,h=r.value;let n=document.getElementById("search-result-template").content.cloneNode(!0);n.querySelector(".search_summary").setAttribute("id","summary-"+t),n.querySelector(".search_link").setAttribute("href",e.permalink),n.querySelector(".search_title").textContent=e.title,n.querySelector(".search_snippet").textContent=h;let f=e.tags;f?n.querySelector(".search_tags").textContent=f:n.querySelector(".search_iftags").remove();let p=e.categories;p?n.querySelector(".search_categories").textContent=p:n.querySelector(".search_ifcategories").remove(),m.forEach(function(e){let s=new Mark(n);s.mark(e)}),document.getElementById("search-results").appendChild(n)})}